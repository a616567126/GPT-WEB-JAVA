<div align="center">
    <p style="font-size:40px;font-weight: 800;color: coral">Siana 智能Ai机器人 </p>
</div>
<div align="center" style="text-align:center;margin-top:30px;margin-bottom:20px">
    <img alt="Java version" src="https://img.shields.io/static/v1?label=openjdk&message=8&logo=openjdk" /> &nbsp; &nbsp;
    <img alt="MySql version" src="https://img.shields.io/static/v1?label=mysql&message=8.0&logo=mysql&color=green" />&nbsp; &nbsp;
    <img alt="Redis version" src="https://img.shields.io/static/v1?label=redis&message=7&logo=redis&color=ff69b4" />&nbsp; &nbsp;
    <a style="padding-left:10px"><img src="https://img.shields.io/github/stars/a616567126/GPT-WEB-JAVA"/></a>&nbsp; &nbsp;
    <a style="padding-left:10px"><img src="https://img.shields.io/github/forks/a616567126/GPT-WEB-JAVA?color=red&logo=red"/></a>&nbsp; &nbsp;


</div>

<h1 align="center"> 🎉 2.0全新版本，全新ui，全新体验</h1>  

<p align="center"> 演示地址：https://bot.aisiana.top</p>
<p align="center">🧧 2.0全新ui，客户端与管理端移动端，购买后加入VIP群持续更新，扫码下方作者微信添加好友咨询加群</p>
<p align="center"> 后台管理ui演示地址地址：https://github.com/a616567126/GPT-WEB-JAVA/wiki/%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86ui%E6%BC%94%E7%A4%BA </p>


  ## 👨‍🚀  Major Function
<h2>📌 客户端</h2>

* **GPt对话**
*     1.基于SSE WebSocket流式推送
*     2.支持3.5,4.0等模型
*     3.支持官方,第三方api地址
* **GPT 画图 (dall-e-3模型)**
* **星火大模型**
*     1.基于SSE WebSocket流式推送
*     2.支持2,3模型
* **Midjourney画图**
*     1./imagine(文生图)
*     2./describe(图生文)
*     3.重做
*     4.--relax,--fast(切换出图模式)
*     5.U放大，V变换
*     6.Strong,Subtle,U2x,U4x,ZoomOut 2x,ZoomOut 1.5x,➡️⬅️⬆️⬇️位置偏移
*     7./shorten(咒语解析)
*     7./blend(混合生图)
*     8.垫图
*     9.账号池
* **Stable-Diffusion画图**
*     1.模型选择
*     2.Lora选择
*     3.支持高清修复
*     4.垫图
* **个人信息展示（剩余次数，身份，昵称）**
* **个人信息修改（头像，密码）**
* **产品查询购买**
* **订单查询**
* **支付方式 易支付、卡密兑换、微信支付**
* **图片存储方式本地/oss存储，可动态配置**



<h2>📌 管理端</h2>

* **首页（数据统计）**
* **支付配置**
* **对KEY配置**
* **用户管理**
* **MJ账号池**
* **订单管理**
* **公告管理**
* **产品管理**
* **系统配置**

<h2>📌 公众号</h2>  

* **扫码登录、注册**
* **Midjourney画图**
* **SD画图（开发中）**
* **GPT对话（开发中）**
* **卡密获取、兑换**

## 客户端UI演示（Vue2开发）
1.登录
![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/fd64021d-5ed5-4fdf-a284-5e9b87e8e736)  
![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/41f8679a-825e-4533-8412-d31ff7a83549)
2.GPT对话
![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/d7b7c8fe-414c-4326-ad14-ab474552abfb)
![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/7ddfe6bd-6d16-48cf-9505-d1c0e9a28bb9)
3.GPT画图
![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/09f9b995-fdd8-4406-8eb5-9d178e83e2da)
4.Midjourney
![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/e9677882-4520-4ef3-97f1-d63dfa4c361a)

![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/519403d3-7ecb-4d6b-9257-ceaf23a1376c)
5.Stable Diffusion
![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/b33a5d46-02a9-420f-8fbc-27602f2ac112)
![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/39024f1d-3db5-41be-9c80-b6ab297d50df)
6.画廊
![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/33de4db7-81f7-405a-b49b-abb5207de0c5)
![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/042a51d5-6c94-4729-b790-cb3df4f81481)
7.我的
![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/40b3dd94-328b-499f-9d7c-24ce95c046f3)


## 移动端UI演示（uniapp开发，可打包小程序,app,H5等）
1.登录  

![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/67e7ba32-cf5f-4559-bbe1-b16e15fbcf88)  

2.菜单页面  

![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/96dea4e3-43aa-466a-b637-b7b108f9dda5)  

3.GPT对话  

![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/53427560-8907-4075-8b78-5a8ec1074e2b)  

4.GPT画图  

![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/505678c6-6fb6-4282-9636-5f65031fd043)  

5.Stable Diffusion  

![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/bc5bcb88-87b8-4c2b-bb34-7aa37f278f8f)  

![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/dd042725-0513-4dd3-aaf5-2f0148b82714)  

![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/9621bc7f-6a69-48e6-b0a6-ecf6657a6a58)  

6.Midjourney  

![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/96ae2a4a-ce98-469a-876d-72d2e21e7fad)  

![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/5a7e3ceb-ee5a-414f-b69f-f577ed797d63)  

![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/38f6bb54-b6f9-4778-955b-cea46fe73db0)  

![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/e0b11766-035d-4954-bd82-509f769fc9b4)  

7.画廊  

![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/415c70f7-21a1-4b7a-85a5-420e008655ed)  

![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/aad15323-980a-48d4-8b26-65db2fb892d7)  

8.个人中心  

![image](https://github.com/a616567126/GPT-WEB-JAVA/assets/43660702/ef240192-5fab-4f60-a4ef-f5ee3122f001)









## 💻  INSTALL AND START  
       安装步骤
        1.安装mysql8.0，redis，安装jdk1.8 也可使用个更高版本但不建议
        2.创建数据库名字为：intelligent_bot
        3.导入src/resources/下的intelligent_bot.sql 文件
        4.检查sys_conf中各个参数是否配置正常，默认账号密码注册，
           默认关闭Midjourney画图,Stable-Diffusion画图,星火等功能，需要功能自行配置开关
        5.若使用Midjourney画图，需在discord_account_config表中配置频道id，服务器id，用户token
        6.若使用Stable-Diffusion画图，sd_lora中配置lora模型，sd_model中配置模型，
          可运行后在管理端进行操作，注意！！lora名字无需后缀名，model中名字需全名，模型名+后缀名
          sys_conf中打开开关
        7.若使用gpt，需在gpt_key中配置key，注意区分3.5与4.0,sys_conf中可配置第三方，中转，官方地址
        8.若使用支付，检查pay_conf，可使用微信支付，易支付，自行选择对应支付方式
        9.修改yml中的数据库配置与redis配置
        10.在根目录下创建临时上传路径/www/temp/data 或自己根据自己实际的路径来配置，注意修改yml中第17行
        11.增加上传图片目录/www/uploads/ 或自己根据自己实际路径来配置，注意修改sys_config表中的图片上传路径
        12.打包java代码，可使用Idea下载好mavn依赖后执行install，将target下的‘Intelligent-Bot-0.0.1-SNAPSHOT.jar’文件
           复制到/usr/local/siana/下，后续都已这个为准，可根据自己的项目实际位置自行更改
        13.执行nohup java -jar Intelligent-Bot-0.0.1-SNAPSHOT.jar 启动后台
        14.查看日志是否有异常日志，若没有则启动成功
        15.管理员账号admin密码123456，根据自己需求合理增加或修改表内数据，初始化sql只为正常启动代码
        ----------------以下说明为客户端、管理端、移动端部署说明---------------------
        16.在服务器上配置启动好服务之后，在客户端与管理端修改api.js里的接口地址,
           PC端与移动端App.js中修改对应的页面地址，siana_bot（填写移动端地址），
           siana_mobile（填写PC端地址），配置好后自动适配设备，
           PC端管理端使用Node14,Npm6其他版本可能出现各种异常情况，推荐使用vscode打开项目
        17.使用npm run install安装所需依赖
        18.使用npm run dev 测试是否接口请求正常。，
        19.使用npm run build 打包代码，并部署到服务器
        20.使用Hbuilder打开移动端代码，打包方式（网站-PC Web或手机H5(仅适用于 uni-app)）
        21.可使用nginx，代理图片服务器，客户端及管理端页面
        22.系统中使用百度翻译与百度内容审核，查看下方教程进行开通
        23.GPT与Midjourney需要外网环境，可使用香港服务器，延迟低，可购买下方浅夏云，
           特惠香港活动690一年8核心16G内存30m





## 🕹  使用 Nginx

<p align="center">🪧  若使用nginx反向代理到后端需要增加SEE支持，与SEE长连接时间 </p>

```powershell
 server {
        listen 443 ssl http2;  # 1.1版本后这样写
        server_name api.baidu.com; #填写绑定证书的域名
        ssl_certificate /www/server/nginx/ssl/baidu.pem;# 指定证书的位置，绝对路径
        ssl_certificate_key /www/server/nginx/ssl/baidu.key; # 绝对路径，同上
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #按照这个协议配置
        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;#按照这个套件配置
        ssl_prefer_server_ciphers on;
        location / {
          proxy_pass http://127.0.0.1:8080/;   #转发到tomcat
          proxy_set_header Host $http_host;  ##proxy_set_header用来重定义发往后端服务器的请求头
          proxy_set_header X-Real-IP $remote_addr;
          proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
          proxy_set_header X-Forwarded-Proto $scheme;
          proxy_buffering off;
          proxy_http_version  1.1;
          proxy_read_timeout 600s; ##设置SSE长链接保持时间为 600s
          }
    }
    server {
         #SSL 默认访问端口号为 443
         listen 443 ssl http2; 
         #请填写绑定证书的域名客户端、管理端通用
         server_name bot.baidu.com;
         #请填写证书文件的相对路径或绝对路径
         ssl_certificate /www/server/nginx/ssl/bot/bot.baidu.com.crt;
         #请填写私钥文件的相对路径或绝对路径
         ssl_certificate_key /www/server/nginx/ssl/bot/bot.baidu.com.key;
         ssl_session_timeout 5m;
         #请按照以下协议配置
         ssl_protocols TLSv1.2 TLSv1.3; 
         #请按照以下套件配置，配置加密套件，写法遵循 openssl 标准。
         ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; 
         ssl_prefer_server_ciphers on;
         location / {
             #网站主页路径。此路径仅供参考，具体请您按照实际目录操作。
             #例如，您的网站主页在 Nginx 服务器的 /etc/www 目录下，则请修改 root 后面的 html 为 /etc/www。
            root    /usr/local/siana/bot;
            index   index.html;
            try_files  $uri $uri/ /index.html;
            }
   }
   server {
        listen       80;
        server_name  bot.baidu.com;#客户端、管理端通用80强制443
        rewrite ^ https://$http_host$request_uri? permanent;

    }
   server {
        listen 443 ssl http2;
        server_name img.baidu.com; #图片服务器
        location    / {
            root   /www/uploads/;
            charset utf-8;          #显示中文
            add_header 'Access-Control-Allow-Origin' '*'; #允许来自所有的访问地址
            add_header 'Access-Control-Allow-Credentials' 'true';
            add_header 'Access-Control-Allow-Methods' 'GET, PUT, POST, DELETE, OPTIONS'; #支持请求方式
            add_header 'Access-Control-Allow-Headers' 'Content-Type,*';
        }
         #请填写证书文件的相对路径或绝对路径
         ssl_certificate /www/server/nginx/ssl/img/img.xx.crt;
         #请填写私钥文件的相对路径或绝对路径
         ssl_certificate_key /www/server/nginx/ssl/img/img.xx.key;
         ssl_session_timeout 5m;
         #请按照以下协议配置
         ssl_protocols TLSv1.2 TLSv1.3; 
         #请按照以下套件配置，配置加密套件，写法遵循 openssl 标准。
         ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; 
         ssl_prefer_server_ciphers on;
    }
```



## 💬  使用 GPT
- 1.在gpt_key中配置对应的gpt key，注意区分3.5与4.0
- 2.若国内环境使用请使用代理访问，或使用cloudflare搭理，[教程地址](https://github.com/x-dr/chatgptProxyAPI)
- 3.gpt使用sse方式进行消息推送与前端交互，若使用nginx请查看上方nginx配置


## 🧩  使用 Image Upload(图片上传)
- 1.创建指定的文件夹如：/usr/local/upload
- 2.创建成功后在"sys_config"表中"img_upload_url"配置第一步创建的目录记得最后边加上"/"如：/usr/local/upload/
- 3.使用nginx进行文件夹代理
- 4.nginx代理的域名或ip配置到sys_config中img_return_url如："https://www.baidu.com"
- 5.上传的图片会以每天的年月日来进行创建文件夹
- 6.图片名称分为两种，Midjourney的名字为任务id，其余的图片为当前时间戳
- 7.图片最终的地址为："img_return_url"+"img_upload_url"+文件名，如："https://www.baidu.com/20230618/123.jpg"


## 🎨  使用 Stable-Diffusion
- 1.在"sd_model"表中配置模型（名字（全部内容包括后缀），图片）
- 2.若有lora在"sd_lora"表中配置lora（名字，图片）
- 3.配置"sys_config"表中"is_open_sd"为1，开启状态
- 4.配置"sys_config"表中"sd_url"的地址，本地默认地址为http://127.0.0.1:7860(记得打开api开关)


## 🎨  使用 Midjourney
- 1.注册 MidJourney创建自己的频道、[参考地址](https://docs.midjourney.com/docs/quick-start)
- 2.添加成功之后查看浏览器中的地址如：<SMALL>https://discord.com/channels/123/456 </SMALL> 其中123为mj_guild_id,456为mj_channel_id
- 3.获取mj_user_token，浏览器打开F12随便发送一个信息查看Network,Authorization为用户token


## 🪜  使用 Proxy（代理）
<p align="center">GPT、Midjourney 国内网络环境下使用代理访问</p>  

- 代理使用，配置流程、[参考地址](https://github.com/a616567126/GPT-WEB-JAVA/wiki/%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%90%86%E8%AF%B7%E6%B1%82GPT%E3%80%81Midjourney)


## 📄  使用 百度翻译，内容审核  
<p align="center">GPT、Midjourney、Stable-Diffusion 使用文本审核，Midjourney、Stable-Diffusion，使用百度翻译</p>    

- 1.百度翻译申请，配置流程、[参考地址](https://github.com/a616567126/GPT-WEB-JAVA/wiki/%E7%94%B3%E8%AF%B7%E7%99%BE%E5%BA%A6%E7%BF%BB%E8%AF%91)
- 1.百度文本审核申请，配置流程、[参考地址](https://github.com/a616567126/GPT-WEB-JAVA/wiki/%E7%94%B3%E8%AF%B7%E7%99%BE%E5%BA%A6%E5%86%85%E5%AE%B9%E5%AE%A1%E6%A0%B8%E5%B9%B3%E5%8F%B0-%E6%96%87%E6%9C%AC)


## 🍾  作者推荐
- 作者使用服务器地址：[浅夏云](https://www.qxqxa.com/aff/ZGWPEDLQ)
- 作者使用机场地址：[新华云](https://newhua99.com/#/register?code=fMYmE5Ri)



## 🥤  Reward（有能力的可以请作者喝一杯冰可落）
- 支付宝  

<img src="https://user-images.githubusercontent.com/43660702/228105535-144d09cd-6326-4c22-b9b9-8c69c299caac.png" width="100px" height="100px">  

- 微信  

<img src="https://user-images.githubusercontent.com/43660702/228105188-09c49078-9156-40bc-8327-f2b05c5bc5fa.png" width="100px" height="100px"> 

## ✉  Scan code to add friends（扫码添加微信好友）⭐  记得点一个Star哦!!!!
![扫码添加好友](https://user-images.githubusercontent.com/43660702/232187172-9d971a97-b7a3-407f-9ba1-a35516505733.jpeg)



## 
[![Star History Chart](https://api.star-history.com/svg?repos=a616567126/GPT-WEB-JAVA&type=Timeline)](https://star-history.com/#a616567126/GPT-WEB-JAVA&Timeline)  


## SPONSOR
本项目由[JetBranins](https://www.jetbrains.com/?from=Unity3DTraining)赞助相关开发工具  
<a href="https://www.jetbrains.com/?from=Unity3DTraining"><img src="https://github.com/XINCGer/Unity3DTraining/blob/master/Doc/images/jetbrains.png" width = "150" height = "150" div align=center /></a>  


## License

Apache License 2.0
